---
interface Props {
  title: string;
  answer: string;
}
const { title, answer } = Astro.props;
const idTitle = "img-" + title.split(" ").join("-");
---

<button
  class="appearance-none py-2 px-4 bg-coral dark:bg-coral hover:bg-[#df4c23] dark:hover:bg-[#df4c23] text-white dark:text-gray-100 font-semibold rounded-lg shadow-md  focus:outline-none focus:ring-1 focus:ring-coral focus:ring-opacity-75"
  id={idTitle}
>
  Show answer
</button>

<script define:vars={{ idTitle, answer }}>
const button = document.body.querySelector(`button#${idTitle}`);
const answerEl = document.body.querySelector(`img#${answer}`);

if (button) {
  button.addEventListener("click", () => {
    if (button.textContent.trim() === "Show answer") {
      button.textContent = "Hide answer";
    } else if (button.textContent.trim() === "Hide answer") {
      button.textContent = "Show answer";
    }
    if (answerEl.classList.contains("hidden")) {
      answerEl.classList.remove("hidden");
    } else {
      answerEl.classList.add("hidden");
    }
  });
}
</script>
